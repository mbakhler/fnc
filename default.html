<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<title></title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link href="css/bootstrap.min.css" rel="stylesheet" />
	<link href="css/rm.application.css" rel="stylesheet" />
	<link href="font-awesome/css/font-awesome.min.css" rel="stylesheet" />
	<script src="lib/jquery-2.1.3.js"></script>
	<script src="lib/knockout-3.2.0.js"></script>
	<script src="lib/knockout-sortable.js"></script>

	<script src="lib/jquery-ui-1.11.4.js"></script>
	<link href="css/jquery-ui-1.11.4.css" rel="stylesheet" />

	<script src="lib/bootstrap.min.js"></script>
	<script type="text/javascript" src="https://appcenter.intuit.com/Content/IA/intuit.ipp.anywhere.js"></script>
	<!--<script src="lib/intuit.ipp.anywhere.js"></script>-->

	<script src="lib/date.format.js"></script>
	<script src="lib/xml2json.js"></script>

	<script src="lib/mindmup-editabletable.js"></script>
	<script src="lib/colResizable-1.5.min.js"></script>
	
	<script src="lib/Blob.js"></script>
	<script src="lib/FileSaver.js"></script>
	<script src="//mozilla.github.io/pdf.js/build/pdf.js"></script>
	<script src="lib/es6-promise.min.js"></script>


	<script>
		var appV = "?v=2.015"
	</script>
	<script src="js/FileManipulator.js?v=2.007"></script>

	<script src="js/koBindings.js"></script>

	<script src="js/default.js?v=2.007"></script>

	<script src="js/financials.js?v=2.007"></script>

	<!--<script src="js/default.js?v=2.007"></script>-->

	<script src="js/polist.js?v=2.007"></script>
	<script src="js/legacy.js?v=2.007"></script>
	<script src="js/invoices.js?v=2.007"></script>
	
	<script src="js/invoices-no-po.js?v=2.007"></script>
	
	<script src="js/sales.js?v=2.007"></script>
	<script src="js/setup.js?v=2.007"></script>

	<script src="js/setup-qb.js?v=2.007"></script>
	<script src="js/setup-cc.js?v=2.007"></script>

	<script src="js/calendar.js?v=2.007"></script>
	<script src="js/vendors.js?v=2.007"></script>
	<script src="js/einvoices.js?v=2.007"></script>
	<script src="js/weather.js?v=2.007"></script>
	<script src="js/crossDoc.js?v=2.007"></script>

	<link href="css/default.css?v=2.007" rel="stylesheet" />

	<style>
	</style>

	<script src="js/cm-money.js"></script>
</head>

<body style="/*height:700px;*/">
	<style>
		/*#drop-zone {
			height: 100px;
			border: 2px dashed #555;
			border-radius: 7px;
			text-align: center;
			line-height: 100px;
		}

			#drop-zone.hover {
				color: green;
				border-color: green;
			}*/

			div.full-height-modal > div.modal-dialog{
				height:99%;
			}
			div.full-height-modal > div.modal-dialog > div.modal-content{
				height:99%;
			}
			div.full-height-modal > div.modal-dialog > div.modal-content div.modal-footer{
				position:absolute;
				bottom:0;
				width:100%;
			}
			div.full-height-modal > div.modal-dialog > div.modal-content div.modal-body {
				height:calc(100% - 106px);
			}
		.cm-tab {
			border-bottom: 1px solid #ddd;
			border-left: 1px solid #ddd;
			border-right: 1px solid #ddd;
			padding: 5px;
			margin-bottom: 10px;
		}

		.cm-table-container {
			padding: 5px;
		}

		.cm-table-footer {
			padding: 15px;
			text-align: right;
			border-top: 1px solid #e5e5e5;
		}

		.cm-table-search-bar {
			display: block;
			padding: 5px 5px 0;
		}

		.cm-td-ellipsis {
			white-space: nowrap;
			text-overflow: ellipsis;
			overflow: hidden;
		}
	</style>

	<div class="fncApp " id="fncApp" data-bind="with: fnc" style="/*height:500px; overflow-y:auto;overflow-x:hidden;*/">

		<div class="row" style="padding-left:10px;padding-top:5px;min-width:1200px !important;">
			<div class="col-xs-2 ScreenTitle" style="cursor:pointer;" onclick="goBack2HomePage();" data-bind=""><span style="padding-left:10px;">Financials</span></div>
			<div class="col-xs-7" style="padding-top:8px;/*padding-right:30px;*/margin-right:-10px;">
				<!-- Nav tabs -->
				<div role="tabpanel" data-bind="event: {click: navigationTabsFocusIn}">
					<ul class="nav nav-pills" role="tablist" id="myTab">
						<li role="presentation" class="calendar-tab active"><a tabindex="-1" style="padding: 5px;font-weight:bold;" href="#home-page" aria-controls="home-page" role="tab" data-toggle="tab" onclick="load_home(function () { fnc.app.filterDateRange(defaultDateText); fnc.app.filterRangeBaseOn('0'); });" data-bind="">HOME</a></li>
						<li role="presentation" class="invoices-tab"><a tabindex="-1" style="padding: 5px;font-weight:bold;" href="#po-list" aria-controls="po-list" role="tab" data-toggle="tab" onclick="load_polist();" data-bind="css: {'cm-disabled-tab': !fnc.app.prvInvoicesViewEnable()}">INVOICES</a></li>

						<li role="presentation" class="sales-tab"><a tabindex="-1" style="padding: 5px;font-weight:bold;" href="#sales-page" aria-controls="sales-page" role="tab" data-toggle="tab" onclick="load_sales();" data-bind="css: {'cm-disabled-tab': !fnc.app.prvSalesViewEnable()}">SALES</a></li>

						<li role="presentation" class="vendors-tab"><a tabindex="-1" style="padding: 5px;font-weight:bold;" href="#vendors-page" aria-controls="vendors-page" role="tab" data-toggle="tab" onclick="load_vendors();" data-bind="css: {'cm-disabled-tab': !fnc.app.prvVendorsViewEnable()}">VENDORS</a></li>
						<li role="presentation" class="setup-tab"><a tabindex="-1" style="padding: 5px;font-weight:bold;" href="#setup-page" aria-controls="setup-page" role="tab" data-toggle="tab" onclick="load_setup()" data-bind="css: {'cm-disabled-tab': !fnc.app.prvSetupViewEnable()}">SETUP</a></li>
						<li role="presentation" class="legacy-tab"><a tabindex="-1" style="padding: 5px;font-weight:bold;display:none;" href="#legacy-page" aria-controls="legacy-page" role="tab" data-toggle="tab" onclick="load_legacy()" data-bind="visible: fnc.app.prvLegacyVouchersViewEnable()">LEGACY VOUCHERS</a></li>
						<li role="presentation" class="einvoices-tab"><a tabindex="-1" style="padding: 5px;font-weight:bold;font-style:italic;display:none;" href="#einvoices-page" aria-controls="einvoices-page" role="tab" data-toggle="tab" onclick="load_einvoices()" data-bind="visible: fnc.app.prvEInvoicesViewEnable()">eINVOICES</a></li>

						<li role="presentation" class="crossDoc-tab"><a tabindex="-1" style="padding: 5px;font-weight:bold;font-style:italic;" href="#crossDoc-page" aria-controls="crossDoc-page" role="tab" data-toggle="tab" onclick="load_crossDoc()" data-bind="css: {'cm-disabled-tab': !fnc.app.prvCrossDocAppEnable()}">CrossDoc</a></li>


						<!-- ko foreach: app.hiddenTabs -->
						<li role="presentation" class="hidden-tab hidden-tab-hide" style="">
							<a tabindex="-1" style="padding-left: 5px;padding-top: 2px;padding-right: 5px;padding-bottom: 4px;" href="#inv-form" aria-controls="inv-form" role="tab" data-bind="click: loadInvoice, attr: {title:CompanyName()+' ('+InvoiceNumber()+')'}">
								<table class="cm-table" style="height:100%">
									<tr>
										<td colspan="2" style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap;max-width:120px;" data-bind="text: CompanyName()+' ('+InvoiceNumber()+')'"></td>
										<td style="width:20px;padding-top: 1px !important;"><input type="button" class="btn btn-danger btn-xs" value="X" style="float:right; width:20px;height:20px;" data-bind="click: goBack2POList" /></td>
									</tr>
								</table>
							</a>
						</li>
						<!-- /ko -->
					</ul>
				</div>
				<!-- /Nav tabs -->

			</div>
			<!-- Weather Gadget -->
			<div class="col-xs-3" style="padding-left:0px;">
				<div class="well well-sm" style="margin-bottom:0px;height:40px;padding:0px 5px;display:none;" data-bind="visible: fnc.weatherApp.currentDaySummary() ">
					<!-- city/state/weather (row) -->
					<div class="row" style="font-size:0.9em;">
						<!-- Location -->
						<div class="col-xs-5" style="padding-right:0;">
							<div class="row">
								<div class="col-xs-12" style="text-align:center;">
									<!-- city, state -->
									<span style="height:20px;line-height:20px;" data-bind="text: fnc.weatherApp.selectedCity()"></span>
									<span style="height:20px;line-height:20px;display:none;" data-bind="visible: fnc.weatherApp.selectedCity()">&#44;&nbsp;</span>
									<span style="height:20px;line-height:20px;" data-bind="text: fnc.weatherApp.selectedState()"></span>
								</div>
							</div>
							<div class="row">
								<div class="col-xs-12" style="text-align:center;">
									<span>Current condition</span>
								</div>
							</div>
						</div>
						<!-- /Location -->
						<!-- Weather -->
						<div class="col-xs-7" style="padding-left:0;">
							<div id="weatherDiv" class="" style="display:table;width:100%;" data-bind="with: fnc.weatherApp">
								<!-- ko if: currentDaySummary() -->
								<img style="float:left; border:none;" src="" data-bind="attr: {src: 'img/weather/'+currentDaySummary().Code+'.png'}, style: {width:'40px',height:'40px'}" />
								<span style="float:left;">&nbsp;&nbsp;</span>
								<span style="float:left;height:40px;line-height:40px;" data-bind="text: currentDaySummary().Text"></span>
								<span style="float:left;">&nbsp;&nbsp;</span>
								<span style="float:left;height:40px;line-height:40px;" data-bind="text: formatTemperature(currentDaySummary().Temperature)"></span>
								<!-- /ko -->
							</div>
						</div>
						<!-- /Weather -->

					</div>
				</div>
			</div>
			<!-- /Weather Gadget -->
		</div>

		<!-- Tab panes -->
		<div id="appContent" class="tab-content">
			<div class="container-fluid" style="/* border-top: 2px lightgrey solid;border-bottom: 2px lightgrey solid; border-left: 2px solid; border-right: 2px solid; border-top: 2px solid; border-bottom: 2px solid; */ min-width:1200px !important;">
				<div class="tab-content">

					<!-- Calendar Tab -->
					<div id="home-page" class="tab-pane"></div>
					<!-- /Calendar Tab -->
					<!-- PO List Tab -->
					<div id="po-list" class="tab-pane"></div>
					<!-- /PO List Tab -->
					<!-- Invoices Tab -->
					<div id="invoices-page" class="tab-pane"></div>
					<!-- /Invoices Tab -->
					<!-- Sales Tab -->
					<div id="sales-page" class="tab-pane"></div>
					<!-- /Sales Tab -->
					<!-- Sales Tab -->
					<div id="vendors-page" class="tab-pane"></div>
					<!-- /Sales Tab -->
					<!-- Setup Tab -->
					<div id="setup-page" class="tab-pane"></div>
					<!-- /Setup Tab -->
					<!-- Legacy Tab -->
					<div id="legacy-page" class="tab-pane"></div>
					<!-- /Legacy Tab -->
					<!-- eInvoice Tab -->
					<div id="einvoices-page" class="tab-pane"></div>
					<!-- /eInvoice Tab -->
					<!-- CrossDoc Tab -->
					<div id="crossDoc-page" class="tab-pane"></div>
					<!-- /CrossDoc Tab -->
				</div>
			</div>
			<!-- /Tab panes -->
			<!-- Modal -->
			<!-- Upload Invoice -->
			<div class="modal fade" id="modUploadInvoice" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
				<div class="modal-dialog">
					<div class="modal-content">
						<form id="frmUploadFiles">
							<div class="modal-header">
								<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
								<h4 class="modal-title" id="myModalLabel">UPLOAD INVOICE</h4>
							</div>
							<div class="modal-body">
								<!--<form>-->
								<div class="form-group">
									<label for="exampleInputFile">File input</label>
									<input type="file" id="exampleInputFile" multiple>
									<p class="help-block">Example block-level help text here.</p>
								</div>
								<!--</form>-->
							</div>
							<div class="modal-footer">
								<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
								<button type="submit" class="btn btn-primary">Save changes</button>
							</div>
						</form>
					</div>
				</div>
			</div>
			<!-- /Upload Invoice -->
			<!-- ERROR MESSAGE -->
			<div class="modal fade" id="modMessage" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="z-index:1051;">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
							<h5 class="modal-title" id="myModalLabel">ERROR MESSAGE</h5>
						</div>
						<div class="modal-body">
							<!--<h4>Authorization failed. Please try it again.</h4>-->
							<h5 data-bind="text: errMessage()"></h5>
						</div>
					</div>
				</div>
			</div>
			<!-- /ERROR MESSAGE -->

			<script>
				$(document).ready(function () {
					//debugger
					fnc.app.initialize(function () {
						ko.applyBindings(fnc, fncApp);
						ko.applyBindings(fnc.app.previewer(), document.getElementById('modPreview'));
						//load_home();
						//debugger
					});
				})
			</script>

		</div>
		<!-- /Tab panes -->
		<!--<pre data-bind="text: ko.toJSON(screenAvailWidth, null, 2)"></pre>-->
		<!--<pre style="display:inline-block;" data-bind="text: ko.toJSON(fnc.weatherApp.currentDaySummary(), null, 2)"></pre>-->
		<!--<pre style="display:inline-block;" data-bind="text: ko.toJSON( fnc.app.filterSelectedLocations().join() != '' ? fnc.app.filterSelectedLocations().join() : fnc.app.allOrgString(), null, 2)"></pre>-->
		<!--<pre style="display:inline-block;" data-bind="text: ko.toJSON(fnc.weatherApp.selectedLocation(), null, 2)"></pre>-->
		<!-- Duplicates Warning -->
		<div class="modal draggable fade" id="modDuplicateWarning" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
						<h4 class="modal-title" id="myModalLabel">Duplicate Warning</h4>
					</div>
					<div class="modal-body">
						There is an invoice <span id="invoiceNo"></span>	for &quot;<span id="vendName"></span>&quot;&period; Do you want to proceed?
					</div>
					<div class="modal-footer" style="padding-bottom:5px;padding-top:5px;">
						<button type="button" class="btn btn-xs btn-default" data-dismiss="modal">Cancel</button>
						<button type="button" class="btn btn-xs btn-primary" id="proceedWithDuplicate" data-bind="">Proceed</button>
					</div>
				</div>
			</div>
		</div>
		<!-- /Duplicates Warning -->
		<!-- Show	eInvoice -->
		<div class="modal draggable fade" id="modShowEInvoice" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
			<div class="modal-dialog" style="width:1200px;">
				<div class="modal-content" data-bind="with: fnc.app.EInvoice">
					<div class="modal-header" style="padding-bottom:5px; padding-top:5px;">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
						<h5 class="modal-title" id="myModalLabel">ELECTRONIC INVOICE</h5>
					</div>
					<div class="modal-body" style="padding-bottom:0;">
						<div class="panel panel-default">
							<div class="panel-heading">
								<div class="row">
									<!-- Left Section -->
									<div class="col-xs-4">
										<div class="well well-sm" style="border: 1px solid lightGray; margin-top: 5px; margin-right:-13px; padding: 5px; border-radius: 5px; height:85px; margin-bottom:0;">
											<div class="row">
												<div class="col-xs-12">
													<div class="row">
														<div class="col-xs-3" style="padding-right: 5px;"><label style="float:right; font-size:10px;">ACCOUNT#:</label></div>
														<div class="col-xs-9" style="padding-left:0;">
															<h6 style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap; max-width: 240px; margin-top:3px; margin-bottom: 0; font-weight:bold;" data-bind="text: accountNum()"></h6>
														</div>
													</div>
													<div class="row">
														<div class="col-xs-3" style="padding-right: 5px;"><label style="float:right; font-size:10px;">LOCATION:</label></div>
														<div class="col-xs-9" style="padding-left:0;">
															<h6 style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap; max-width: 240px; margin-top:3px; margin-bottom: 0; font-weight:bold;" data-bind="text: locationName()"></h6>
														</div>
													</div>
													<div class="row">
														<div class="col-xs-3" style="padding-right: 5px;"><label style="float:right; font-size:10px;">VENDOR:</label></div>
														<div class="col-xs-9" style="padding-left:0;">
															<h6 style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap; max-width: 240px; margin-top:3px; margin-bottom: 0; font-weight:bold;" data-bind="text: vendor()"></h6>
														</div>
													</div>
													<div class="row">
														<div class="col-xs-3" style="padding-right: 5px;"><label style="float:right; font-size:10px;">PO(s):</label></div>
														<div class="col-xs-9" style="padding-left:0;">
															<ul style="margin:0;padding:0;" data-bind="foreach: includedPOList">
																<li style="display: inline;"><div class="cm-h-li-item" style=""><span data-bind="text: $data"></span></div></li>
															</ul>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
									<!-- /Left Section -->
									<!-- Right Section -->
									<div class="col-xs-8">
										<div class="well well-sm" style="border: 1px solid lightGray; margin-top: 5px;  margin-left: -15px; padding: 5px; border-radius: 5px; height:85px; margin-bottom:0;">
											<div class="row">
												<div class="col-xs-3" style="padding-right:0;padding-left:25px;">
													<div class="row">
														<div class="col-xs-5" style="padding: 0px;"><label style="margin-top:0px; margin-bottom:0px; float:right; font-size:10px;">INV.#:</label></div>
														<div class="col-xs-7" style="padding-left: 5px;"><input type="text" id="invoiceNumber" class="form-control input-sm validated-field" style="padding:0; " readonly data-bind="value: invoiceNumber" /></div>
													</div>
													<div class="row">
														<div class="col-xs-5" style="padding: 0px;"><label style="margin-top:0px; margin-bottom:0px; float:right; font-size:10px;">INV.DATE:</label></div>
														<div class="col-xs-7" style="padding-left: 5px;"><input type="text" id="invoiceDate" class="form-control input-sm validated-field" style="padding:0; " readonly data-bind="value: invoiceDate" /></div>
													</div>
												</div>
												<div class="col-xs-3">
													<div class="row">
														<div class="col-xs-6" style="padding: 0px;"><label style="margin-top:0px; margin-bottom:0px; float:right; font-size:10px;cursor:help;" title="Invoice total before discount">INV.TOTAL:</label></div>
														<div class="col-xs-6" style="padding-left: 5px;"><input type="text" id="invoiceGross" class="form-control input-sm validated-field" style="padding:0;  text-align:right;" readonly data-bind="value: formatToFixed0(gross(),2)" /></div>
													</div>
													<div class="row">
														<div class="col-xs-6" style="padding: 0px;"><label style="margin-top:0px; margin-bottom:0px; float:right; font-size:10px;">DISCOUNT:</label></div>
														<div class="col-xs-6" style="padding-left: 5px;"><input type="text" id="invoiceDiscount" class="form-control input-sm validated-field" style="padding:0;  text-align:right;" readonly data-bind="value: formatToFixed0(discount(),2)" /></div>
													</div>
													<div class="row"><div class="col-xs-12">&nbsp;</div></div>
													<div class="row">
														<div class="col-xs-6" style="padding: 0px;"><label style="margin-top:0px; margin-bottom:0px; float:right; font-size:10px;">NET:</label></div>
														<div class="col-xs-6" style="padding-left: 5px;"><input type="text" class="form-control input-sm" style="padding:0;  text-align:right;" readonly data-bind="value: formatToFixed0(computedNet(),2)" /></div>
													</div>
												</div>
												<div class="col-xs-3">
													<div class="row">
														<div class="col-xs-6" style="padding: 0px;"><label style="margin-top:0px; float:right; font-size:10px;">LINE TOTAL:</label></div>
														<div class="col-xs-6" style="padding-left: 5px;"><input type="text" class="form-control input-sm" style="padding:0; text-align:right;" readonly data-bind="textInput: formatToFixed0(lineTotal(),2)" /></div>
													</div>
													<div class="row"><div class="col-xs-12">&nbsp;</div></div>
													<div class="row"><div class="col-xs-12">&nbsp;</div></div>
													<div class="row">
														<div class="col-xs-6" style="padding: 0px;">
															<label style="margin-top:0px; margin-bottom:0px; float:right; font-size:10px;">TOTAL:</label>
														</div>
														<div class="col-xs-6" style="padding-left: 5px;">
															<input type="text" class="form-control input-sm" style="padding:0; text-align:right;" readonly data-bind="value: formatToFixed0(computedTotal(),2)" />
														</div>
													</div>

												</div>
												<div class="col-xs-3">
													<div class="row">
														<div class="col-xs-6" style="padding: 0px;"><label style="margin-top:0px; float:right; font-size:10px;">DEPOSIT/CR:</label></div>
														<div class="col-xs-6" style="padding-left:5px;"><input id="invoiceDiscount" class="form-control input-sm validated-field" style="padding:0; text-align:right;" readonly="" data-bind="textInput: formatToFixed0(depositOrCredit(), 2)" type="text"></div>
													</div>
													<div class="row">
														<div class="col-xs-6" style="padding:0;"><label style="margin-top:0px; float:right; font-size:10px;">DISCOUNT:</label></div>
														<div class="col-xs-6" style="padding-left:5px;"><input id="invoiceDiscount" class="form-control input-sm validated-field" style="padding:0; text-align:right;" readonly="" data-bind="textInput: formatToFixed0(discountComputed(), 2)" type="text"></div>
													</div>
													<div class="row">
														<div class="col-xs-6" style="padding: 0px;"><label style="margin-top:0px; margin-bottom:0px; float:right; font-size:10px;">TAX:</label></div>
														<div class="col-xs-6" style="padding-left: 5px;"><input type="text" id="invoiceTax" class="form-control input-sm validated-field" style="padding:0;  text-align:right;" readonly data-bind="value: formatToFixed0(tax(),2)" /></div>
													</div>
													<div class="row">
														<div class="col-xs-6" style="padding: 0px;"><label style="margin-top:0px; margin-bottom:0px; float:right; font-size:10px;">FREIGHT:</label></div>
														<div class="col-xs-6" style="padding-left: 5px;"><input type="text" id="invoiceFreight" class="form-control input-sm validated-field" style="padding:0;  text-align:right;" readonly data-bind="value: formatToFixed0(freight(),2)" /></div>
													</div>
												</div>
											</div>
										</div>
									</div>
									<!-- /Right Section -->
								</div>
							</div>

							<div class="panel-body">
								<div class="row">
									<div class="col-xs-3"><input type="text" class="form-control input-sm" placeholder="Search..." data-bind="textInput: listSearchFilter"></div>
									<div class="col-xs-3 col-xs-offset-6" style="text-align:right;"><button class="btn btn-xs btn-primary" data-bind="click: fnc.invoicesApp.printEInvoice">Print</button></div>
								</div>
							</div>

							<table class="cm-table table table-bordered table-condensed">
								<thead style="background-color:#f5f5f5;">
									<tr>
										<th class="col-w-b30-3" rowspan="2">CODE</th>
										<th class="col-w-b30-2" rowspan="2">ITEM ID</th>
										<th class="col-w-b30-3" colspan="3" style="text-align:center;">QUANTITY</th>
										<th class="col-w-b30-2">ORDER</th>
										<th class="text-overflow-ellipsis" rowspan="2">ITEM</th>
										<th class="col-w-b30-2" style="text-align:right;">PRICE</th>
										<th class="col-w-b30-2" rowspan="2" style="text-align:right;">PRICE</th>
										<th class="col-w-b30-2" rowspan="2" style="text-align:right;">DEPOSIT</th>
										<th class="col-w-b30-2" rowspan="2" style="text-align:right;">CREDIT</th>
										<th class="col-w-b30-3" rowspan="2" style="text-align:right;">TOTAL</th>
										<th class="col-w-scroll-17" rowspan="2"></th>
									</tr>
									<tr>
										<th class="col-w-b30-2" style="text-align:right;border-bottom: 0;">ORDER</th>
										<th class="col-w-b30-3" style="text-align:right;border-bottom: 0;">BACKORDER</th>
										<th class="col-w-b30-2" style="text-align:right;border-bottom: 0;">SHIP</th>
										<th class="col-w-b30-2" style="border-bottom:0;border-top:0;">UNIT</th>
										<th class="col-w-b30-2" style="text-align:right;border-bottom:0;border-top:0;">UNITS</th>
									</tr>
								</thead>
							</table>

							<div id="" style="height:300px; overflow-y: scroll; ">
								<table class="cm-table table table-bordered table-condensed table-hover" style="margin-bottom:0px; cursor:pointer; table-layout:fixed;">
									<tbody data-bind="foreach: invoiceFilteredItems">
										<tr>
											<td class="col-w-b30-3" data-bind="text: VendItemCode"></td>
											<td class="col-w-b30-2" data-bind="text: ItemId"></td>
											<td class="col-w-b30-2" style="text-align:right;" data-bind="text: formatToFixed0(OrdQuantity, 2)"></td>
											<td class="col-w-b30-3" style="text-align:right;" data-bind="text: formatToFixed0(BackOrdQuantity, 2)"></td>
											<td class="col-w-b30-2" style="text-align:right;" data-bind="text: formatToFixed0(ShipQuantity, 2)"></td>
											<td class="col-w-b30-2" data-bind="text: Unit"></td>
											<td class="text-overflow-ellipsis" data-bind="text: Description"></td>
											<td class="col-w-b30-2" style="text-align:right;" data-bind="text: formatToFixed0(TotalPriceUnits, 2)"></td>
											<td class="col-w-b30-2" style="text-align:right;" data-bind="text: formatCurrency(Price)"></td>
											<td class="col-w-b30-2" style="text-align:right;" data-bind="text: formatCurrency(DepositAmt)"></td>
											<td class="col-w-b30-2" style="text-align:right;" data-bind="text: formatCurrency(CreditAmt)"></td>
											<td class="col-w-b30-3" style="text-align:right;" data-bind="text: formatCurrency(TotalAmt)"></td>
										</tr>
									</tbody>
								</table>
							</div>


						</div>
						<!--<pre data-bind="text: ko.toJSON($data, null, 2)"></pre>-->
					</div>

					<div id="printEInvoice" class="panel panel-default" style="visibility:hidden; height: 1px; margin-bottom:0;">
						<div id="printEInvoiceHeader" class="panel-heading" style="border:none;">
							<div class="row">
								<!-- Left Section -->
								<div id="printEInvoiceLeftSection" class="col-xs-4">
									<div class="well well-sm" style="border: 1px solid lightGray; margin-top: 5px; margin-right:-13px; padding: 5px; border-radius: 5px; height:85px; margin-bottom:0;">
										<div class="row">
											<div class="col-xs-12">
												<div class="row">
													<div class="col-xs-3" style="padding-right: 5px;"><label style="float:right; font-size:10px;">ACCOUNT#:</label></div>
													<div class="col-xs-9" style="padding-left:0;">
														<h6 style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap; max-width: 240px; margin-top:3px; margin-bottom: 0; font-weight:bold;" data-bind="text: accountNum()"></h6>
													</div>
												</div>
												<div class="row">
													<div class="col-xs-3" style="padding-right: 5px;"><label style="float:right; font-size:10px;">LOCATION:</label></div>
													<div class="col-xs-9" style="padding-left:0;">
														<h6 style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap; max-width: 240px; margin-top:3px; margin-bottom: 0; font-weight:bold;" data-bind="text: locationName()"></h6>
													</div>
												</div>
												<div class="row">
													<div class="col-xs-3" style="padding-right: 5px;"><label style="float:right; font-size:10px;">VENDOR:</label></div>
													<div class="col-xs-9" style="padding-left:0;">
														<h6 style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap; max-width: 240px; margin-top:3px; margin-bottom: 0; font-weight:bold;" data-bind="text: vendor()"></h6>
													</div>
												</div>
												<div class="row">
													<div class="col-xs-3" style="padding-right: 5px;"><label style="float:right; font-size:10px;">PO(s):</label></div>
													<div class="col-xs-9" style="padding-left:0;">
														<ul style="margin:0;padding:0;" data-bind="foreach: includedPOList">
															<li style="display: inline;"><div class="cm-h-li-item" style=""><span data-bind="text: $data"></span></div></li>
														</ul>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
								<!-- /Left Section -->
								<!-- Right Section -->
								<div id="printEInvoiceRightSection" class="col-xs-8">
									<div class="well well-sm" style="border: 1px solid lightGray; margin-top: 5px;  margin-left: -15px; padding: 5px; border-radius: 5px; height:85px; margin-bottom:0;font-size:10px;">
										<div class="row">
											<div class="col-xs-3" style="padding-right:0;padding-left:25px;">
												<div class="row">
													<div class="col-xs-5" style="padding: 0px;"><label style="margin-top:0px; margin-bottom:0px; float:right; font-size:10px;">INV.#:</label></div>
													<div class="col-xs-7" style="padding-left: 5px; padding-top: 2px;" data-bind="text: invoiceNumber">
														<!--<input type="text" id="invoiceNumber" class="form-control input-sm validated-field" style="padding:0; " readonly data-bind="value: invoiceNumber" />-->
													</div>
												</div>
												<div class="row">
													<div class="col-xs-5" style="padding: 0px;"><label style="margin-top:0px; margin-bottom:0px; float:right; font-size:10px;">INV.DATE:</label></div>
													<div class="col-xs-7" style="padding-left: 5px; padding-top: 2px;" data-bind="text: invoiceDate">
														<!--<input type="text" id="invoiceDate" class="form-control input-sm validated-field" style="padding:0; " readonly data-bind="value: invoiceDate" />-->
													</div>
												</div>
											</div>
											<div class="col-xs-3">
												<div class="row">
													<div class="col-xs-6" style="padding: 0px;"><label style="margin-top:0px; margin-bottom:0px; float:right; font-size:10px; cursor:help;" title="Invoice total before discount">INV.TOTAL:</label></div>
													<div class="col-xs-6" style="padding-left: 5px; padding-top: 2px;" data-bind="text: formatToFixed0(gross(),2)">
														<!--<input type="text" id="invoiceGross" class="form-control input-sm validated-field" style="padding:0;  text-align:right;" readonly data-bind="value: formatToFixed0(gross(),2)" />-->
													</div>
												</div>
												<div class="row">
													<div class="col-xs-6" style="padding: 0px;"><label style="margin-top:0px; margin-bottom:0px; float:right; font-size:10px;">DISCOUNT:</label></div>
													<div class="col-xs-6" style="padding-left: 5px; padding-top: 2px;" data-bind="text: formatToFixed0(discount(),2)">
														<!--<input type="text" id="invoiceDiscount" class="form-control input-sm validated-field" style="padding:0;  text-align:right;" readonly data-bind="value: formatToFixed0(discount(),2)" />-->
													</div>
												</div>
												<div class="row"><div class="col-xs-12">&nbsp;</div></div>
												<div class="row">
													<div class="col-xs-6" style="padding: 0px;"><label style="margin-top:0px; margin-bottom:0px; float:right; font-size:10px;">NET:</label></div>
													<div class="col-xs-6" style="padding-left: 5px; padding-top: 2px;" data-bind="text: formatToFixed0(computedNet(),2)">
														<!--<input type="text" class="form-control input-sm" style="padding:0;  text-align:right;" readonly data-bind="value: formatToFixed0(computedNet(),2)" />-->
													</div>
												</div>
											</div>
											<div class="col-xs-3">
												<div class="row">
													<div class="col-xs-6" style="padding: 0px;"><label style="margin-top:0px; float:right; font-size:10px;">LINE TOTAL:</label></div>
													<div class="col-xs-6" style="padding-left: 5px; padding-top: 2px;" data-bind="text: formatToFixed0(lineTotal(),2)">
														<!--<input type="text" class="form-control input-sm" style="padding:0; text-align:right;" readonly data-bind="textInput: formatToFixed0(lineTotal(),2)" />-->
													</div>
												</div>
												<div class="row"><div class="col-xs-12">&nbsp;</div></div>
												<div class="row"><div class="col-xs-12">&nbsp;</div></div>
												<div class="row">
													<div class="col-xs-6" style="padding: 0px;">
														<label style="margin-top:0px; margin-bottom:0px; float:right; font-size:10px;">TOTAL:</label>
													</div>
													<div class="col-xs-6" style="padding-left: 5px; padding-top: 2px;" data-bind="text: formatToFixed0(computedTotal(),2)">
														<!--<input type="text" class="form-control input-sm" style="padding:0; text-align:right;" readonly data-bind="value: formatToFixed0(computedTotal(),2)" />-->
													</div>
												</div>

											</div>
											<div class="col-xs-3">
												<div class="row">
													<div class="col-xs-6" style="padding: 0px;"><label style="margin-top:0px; float:right; font-size:10px;">DEPOSIT/CR:</label></div>
													<div class="col-xs-6" style="padding-left:5px; padding-top: 2px;" data-bind="text: formatToFixed0(depositOrCredit(), 2)">
														<!--<input id="invoiceDiscount" class="form-control input-sm validated-field" style="padding:0; text-align:right;" readonly="" data-bind="textInput: formatToFixed0(depositOrCredit(), 2)" type="text">-->
													</div>
												</div>
												<div class="row">
													<div class="col-xs-6" style="padding:0;"><label style="margin-top:0px; float:right; font-size:10px;">DISCOUNT:</label></div>
													<div class="col-xs-6" style="padding-left:5px; padding-top: 2px;" data-bind="text: formatToFixed0(discountComputed(), 2)">
														<!--<input id="invoiceDiscount" class="form-control input-sm validated-field" style="padding:0; text-align:right;" readonly="" data-bind="textInput: formatToFixed0(discountComputed(), 2)" type="text">-->
													</div>
												</div>
												<div class="row">
													<div class="col-xs-6" style="padding: 0px;"><label style="margin-top:0px; margin-bottom:0px; float:right; font-size:10px;">TAX:</label></div>
													<div class="col-xs-6" style="padding-left: 5px; padding-top: 2px;" data-bind="text: formatToFixed0(tax(),2)">
														<!--<input type="text" id="invoiceTax" class="form-control input-sm validated-field" style="padding:0;  text-align:right;" readonly data-bind="value: formatToFixed0(tax(),2)" />-->
													</div>
												</div>
												<div class="row">
													<div class="col-xs-6" style="padding: 0px;"><label style="margin-top:0px; margin-bottom:0px; float:right; font-size:10px;">FREIGHT:</label></div>
													<div class="col-xs-6" style="padding-left: 5px; padding-top: 2px;" data-bind="text: formatToFixed0(freight(),2)">
														<!--<input type="text" id="invoiceFreight" class="form-control input-sm validated-field" style="padding:0;  text-align:right;" readonly data-bind="value: formatToFixed0(freight(),2)" />-->
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
								<!-- /Right Section -->
							</div>
						</div>

						<div style="margin-left:15px;margin-right:15px;">
							<table class="cm-table table table-bordered table-condensed" style="font-size:9px;">
								<thead style="background-color:#f5f5f5;">
									<tr>
										<th class="col-w-b30-3" rowspan="2">CODE</th>
										<th class="col-w-b30-3" rowspan="2">ITEM ID</th>
										<th class="col-w-b30-3" colspan="3" style="text-align:center;">QUANTITY</th>
										<th class="col-w-b30-2" style="border-bottom:none !important;">ORDER</th>
										<th class="" rowspan="2">ITEM</th>
										<th class="col-w-b30-2" style="text-align:right;border-bottom:none !important;">PRICE</th>
										<th class="col-w-b30-3" rowspan="2" style="text-align:right;">PRICE</th>
										<th class="col-w-b30-3" rowspan="2" style="text-align:right;">DEPOSIT</th>
										<th class="col-w-b30-3" rowspan="2" style="text-align:right;">CREDIT</th>
										<th class="col-w-b30-3" rowspan="2" style="text-align:right;">TOTAL</th>
										<!--<th class="col-w-scroll-17" rowspan="2"></th>-->
									</tr>
									<tr>
										<th class="col-w-b30-2" style="text-align:right;border-bottom: 0;">ORDER</th>
										<th class="col-w-b30-3" style="text-align:right;border-bottom: 0;">BACKORDER</th>
										<th class="col-w-b30-2" style="text-align:right;border-bottom: 0;">SHIP</th>
										<th class="col-w-b30-2" style="border-bottom:0;border-top:none !important;">UNIT</th>
										<th class="col-w-b30-2" style="text-align:right;border-bottom:0;border-top:none !important;">UNITS</th>
									</tr>
								</thead>
								<tbody data-bind="foreach: invoiceFilteredItems">
									<tr>
										<td class="" data-bind="text: VendItemCode"></td>
										<td class="" data-bind="text: ItemId"></td>
										<td class="" style="text-align:right;" data-bind="text: formatToFixed0(OrdQuantity, 2)"></td>
										<td class="" style="text-align:right;" data-bind="text: formatToFixed0(BackOrdQuantity, 2)"></td>
										<td class="" style="text-align:right;" data-bind="text: formatToFixed0(ShipQuantity, 2)"></td>
										<td class="" data-bind="text: Unit"></td>
										<td class="" data-bind="text: Description"></td>
										<td class="" style="text-align:right;" data-bind="text: formatToFixed0(TotalPriceUnits, 2)"></td>
										<td class="" style="text-align:right;" data-bind="text: formatCurrency(Price)"></td>
										<td class="" style="text-align:right;" data-bind="text: formatCurrency(DepositAmt)"></td>
										<td class="" style="text-align:right;" data-bind="text: formatCurrency(CreditAmt)"></td>
										<td class="" style="text-align:right;" data-bind="text: formatCurrency(TotalAmt)"></td>
									</tr>
								</tbody>
							</table>
						</div>

					</div>


				</div>
			</div>
		</div>
		<!-- /Show	eInvoice -->
		<!-- Attachments -->
		<div class="modal draggable fade" id="modAttachments" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
			<div class="modal-dialog" style="margin: 20px auto; width:1200px;">
				<!-- ko if: app.attachmentsObject -->
				<div class="modal-content" data-bind="with: app.attachmentsObject">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
						<h4 class="modal-title" id="myModalLabel">Attachments</h4>
					</div>
					<div class="modal-body">
						<div class="row">
							<div class="col-xs-6">
								<div class="well well-sm" style="height:169px;">
									<h5><span class="label label-default" style="float:left;width:100px;text-align:right;">LOCATION:</span><span style="float:left;text-align:left;margin-left:5px;" data-bind="text: OrgName"></span> </h5>
									<br />
									<h5><span class="label label-default" style="float:left;width:100px;text-align:right;">VENDOR:</span><span style="float:left;text-align:left;margin-left:5px;" data-bind="text: Company"></span> </h5>
									<br />
									<h5><span class="label label-default" style="float:left;width:100px;text-align:right;">INVOICE #:</span><span style="float:left;text-align:left;margin-left:5px;" data-bind="text: InvNum"></span> </h5>
									<br />
									<h5><span class="label label-default" style="float:left;width:100px;text-align:right;">INVOICE DATE:</span><span style="float:left;text-align:left;margin-left:5px;" data-bind="text: InvDate"></span> </h5>
									<br />
									<h5><span class="label label-default" style="float:left;width:100px;text-align:right;">INVOICE TOTAL:</span><span style="float:left;text-align:left;margin-left:5px;" data-bind="text: formatCurrency(InvTotal)"></span> </h5>
								</div>
							</div>
							<div class="col-xs-6">
								<div class="well well-sm" style="">
									<table class="cm-table table table-condensed table-hover" style="margin-bottom:0;">
										<caption style="text-align: center;font-size: 1.2em;font-weight: bold;padding: 0;">Attached documents</caption>
										<thead style="display:block;">
											<tr>
												<th style="width:300px;">NAME</th>
												<th style="width:130px;">DOC TYPE</th>
												<th style="width:120px;text-align:right;padding-right:22px;">ACTION</th>
											</tr>
										</thead>
										<tbody style="display:block;height:100px;overflow-y:scroll;background-color:white;">
											<!-- ko foreach: AttachedDocs -->
											<tr>
												<td class="cm-td-ellipsis" style="width:300px;max-width:300px;" data-bind="text:DocName() "></td>
												<td class="cm-td-ellipsis" style="width:130px;max-width:130px;" data-bind="text:TypeName "></td>
												<td class="cm-td-ellipsis" style="width:120px;max-width:120px;text-align:right;">
													<!--<button class="btn btn-xs btn-success" style="padding:0;height:18px;vertical-align:top;" title="Edit" data-bind="click: editDocument"><span class="glyphicon glyphicon-cog" style="margin-right:1px;"></span></button>-->
													<button class="btn btn-xs btn-danger" style="height:20px;vertical-align:top;" title="Detach" data-bind="click: showDetachDocWarning, css: {'cm-disabled-tab': !fnc.app.prvCrossDocDetachFromInvoiceEnable()}"><span class="glyphicon glyphicon-remove-circle" style="/*margin-right:1px;*/"></span></button>
													<button class="btn btn-xs btn-primary" style="height:20px;vertical-align:top;" title="View" data-bind="click: $parent.previewDoc, css: {'cm-disabled-tab': !fnc.app.prvCrossDocViewDocumentEnable()}"><span class="glyphicon glyphicon-zoom-in" style="/*margin-right:1px;top: 0px;*/"></span></button>
												</td>
											</tr>
											<!-- /ko -->
										</tbody>
									</table>
								</div>
							</div>
						</div>

						<div class="cm-tabs-container">
							<ul class="nav nav-tabs">
								<li role="presentation" class="active"><a data-toggle="tab" href="#repDocs" style="font-size:1.2em; font-weight:bold;">Available documents</a></li>
								<li role="presentation"><a data-toggle="tab" href="#localDocs" style="font-size:1.2em; font-weight:bold;" data-bind="css: {'cm-disabled-tab': !fnc.app.prvCrossDocAttachToInvoiceEnable() || !fnc.app.prvCrossDocUploadDocumentEnable()}">Browse</a></li>
							</ul>

							<div class="tab-content clearfix">
								<div class="tab-pane active cm-tab" id="repDocs">
									<div class="cm-table-search-bar">
										<input type="text" id="" class="form-control input-sm" placeholder="Document Search..." style="width:300px;float:right;margin-right:15px;" data-bind="textinput: searchDocsInput" />
										<div style="display:inline-block;/*margin-right:15px;float:right;*/">
											<label style="margin-right:5px;">Loaded in:</label>
											<select class="input-medium input-nopadding" id="" style="margin-bottom: 0px; width: 120px;" data-bind="options: filterAvailableDateRanges, value: filterDateRange, valueUpdate: 1"></select>
										</div>				
									</div>
									<table class="cm-table table table-condensed table-hover" style="margin-bottom:0px;">
										<thead style="display:block;">
											<tr style="font-size:0.8em;">
												<th style="width:230px;">COMPANY</th>
												<th style="width:100px;">PO(s)</th>
												<th style="width:100px;">INVOICE#</th>
												<th style="width:250px;">NAME</th>
												<th style="width:150px;">DOC TYPE</th>
												<th style="width:100px;">UPLOAD DATE</th>
												<th style="width:100px;">UPLOADED BY</th>
												<th style="width:100px;text-align:right;">TOTAL</th>
												<th style="width:60px;text-align:right;">ACTION</th>
												<th style="width:17px;text-decoration:none">&nbsp;</th>
											</tr>
										</thead>
										<tbody style="display:block;height:177px;overflow-y:scroll;">
											<!-- ko foreach: filteredDocs -->
											<tr>
												<td class="cm-td-ellipsis" style="width:230px;max-width:230px;" data-bind="text: Company"></td>
												<td class="cm-td-ellipsis" style="width:100px;max-width:100px;" data-bind="text: VOrderNum"></td>
												<td class="cm-td-ellipsis" style="width:100px;max-width:100px;" data-bind="text: InvoiceNum"></td>
												<td class="cm-td-ellipsis" style="width:250px;max-width:250px;" data-bind="text: DocName()"></td>
												<td class="cm-td-ellipsis" style="width:150px;max-width:150px;" data-bind="text: TypeName"></td>
												<td class="cm-td-ellipsis" style="width:100px;max-width:100px;" data-bind="text: UploadDT"></td>
												<td class="cm-td-ellipsis" style="width:100px;max-width:100px;" data-bind="text: UploadedBy"></td>
												<td class="cm-td-ellipsis" style="width:100px;max-width:100px;text-align:right;" data-bind="text: formatCurrency(Total)"></td>
												<td style="width:60px;max-width:60px;text-align:right;">
													<input type="checkbox" data-bind="checked: Selected, css: {'cm-disabled-tab': !fnc.app.prvCrossDocAttachToInvoiceEnable()}" />
													<button class="btn btn-xs btn-primary" style="height:20px;vertical-align:top;" title="View" data-bind="click: $parent.previewDoc,  css: {'cm-disabled-tab': !fnc.app.prvCrossDocViewDocumentEnable()}"><span class="glyphicon glyphicon-zoom-in" style=""></span></button>
												</td>
											</tr>
											<!-- /ko -->
										</tbody>
									</table>
									<div class="cm-table-footer">
										<button type="button" class="btn btn-primary" data-bind="click: attachSelected, enable: isAttachEnabled()">Attach selected</button>
									</div>

									<!--<pre data-bind="text: ko.toJSON(availableDocs(), null, 2)"></pre>-->
								</div>
								<div class="tab-pane cm-tab" id="localDocs">
									<!--upload file input-->
									<div class="row file-input-display" style="height:232px;margin-bottom:5px;margin-right:-4px;border-bottom:1px solid whitesmoke;" data-bind="event:{dragover:onDragOver,dragleave:onDragLeave,drop:onDrop},css:{hover:fileOver()}">
										<div class="col-xs-3" style="height:100%;">
											<div class="input-group input-group-sm" style="top:50%;margin-top:-17px;">
												<label class="btn btn-primary btn-file">
													<span class="glyphicon glyphicon-folder-open"></span>
													Browse
													<input type="file" multiple id="local-file-input" style="display:none;" data-bind="event:{change: attachUploadFiles($element.files)}">
												</label>
												<span> or drag and drop files</span>
											</div>
										</div>
										<!--drag and drop file-->
										<div class="col-xs-9" style="border-left:1px solid whitesmoke;height:100%;overflow-y:scroll;">
											<!--display files-->
											<div class="list-group" data-bind="foreach:currentUploadBatch().documents">
												<div class="list-group-item" data-bind="css:isUploaded()?'list-group-item-success':uploadFailed()?'list-group-item-danger':''">
													<div class="row">
														<div class="col-xs-3" style="white-space:nowrap;overflow:hidden;text-overflow:ellipsis;">
															<a class="thumbnail" style="margin-bottom:0px;text-align:center;cursor:pointer;" data-bind="click:$parent.previewDoc">
																<span style="height:70px;font-size:70px;" class="glyphicon glyphicon-file" data-bind="visible:contentType.toLowerCase() != 'pdf' && contentType.toLowerCase() != 'jpeg' && contentType.toLowerCase() != 'jpg' && contentType.toLowerCase() != 'png'"></span>
																<img class="img-thumbnail" style="height:70px;" data-bind="attr:{src:docURL},visible:contentType.toLowerCase() == 'pdf'||contentType.toLowerCase() == 'jpeg'||contentType.toLowerCase() == 'jpg' || contentType.toLowerCase() == 'png'" />
															</a>
														</div>
														<div class="form-group col-xs-5" style="padding-left:0px;margin-top:15px;" data-bind="css:docName() != ''?'has-success':'has-error'">
															<label class="control-label">Document Name:<span style="color:red">*</span></label>
															<input class="form-control" type="text" placeholder="document name..." data-bind="textInput:docName,attr:{'disabled':$parent.currentUploadBatch().isUploaded},style:{border:docName() == ''?'1px solid #a94442':'1px solid #3c763d'}" />
															<small class="form-text text-muted" data-bind="text:docName()==''?'This is required':''"></small>
														</div>
														<div class="col-xs-3" style="padding-left:0px;margin-top:15px;">
															<label for="docType">Document Type:</label>
															<select id="docType" style="width:100%;" data-bind="options:$parent.documentTypes,optionsText:'TypeName',value:docType, attr:{'disabled':$parent.currentUploadBatch().isUploaded}"></select>
														</div>
														<span class="col-xs-1" style="margin-top:28px;">
															<button class="btn btn-xs btn-danger glyphicon glyphicon-remove" style="float:right;" data-bind="click:$parent.removeChosenFileUpload,visible:!isUploaded()"></button>
															<span class="glyphicon glyphicon-check" style="float:right; color:green;" data-bind="visible:isUploaded"></span>
														</span>
													</div>
												</div>
											</div>
											<!--/display files-->
										</div>
										<!--/drag and drop file-->
									</div>
									<!--/upload file input-->
									<div class="row" style="padding:10px;">
										<div class="col-xs-12">
											<button class="btn btn-success" style="float:right;" data-bind="click: uploadAll, enable: isUploadEnabled()"><span class="glyphicon glyphicon-upload"></span>Upload</button>
										</div>
									</div>
								</div>

							</div>

						</div>
					</div>
					<!--<div class="modal-footer">
						<button type="button" class="btn btn-primary" data-bind="">Submit</button>
					</div>-->
				</div>
				<!-- /ko -->
			</div>
		</div>
		<!-- /Attachments -->
		<!-- PREVIEW -->
		<div data-bind="stopBindings:true">
			<div class="modal fade" id="modPreview" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
				<div class="modal-dialog" style="margin-bottom:0px;margin-top:0px;width:100%;">
					<div class="modal-content" data-bind="with:currentFile">
						<!-- ko if: fnc.app.attachmentsObject() -->
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
							<h5 class="modal-title" id="myModalLabel">PREVIEW</h5>
						</div>
						<div class="modal-body">						
							<div class="row">
								<div class="col-xs-10">
									<!--ko if: contentType.toLowerCase() == 'pdf' || contentType.toLowerCase() == 'png' || contentType.toLowerCase() == 'jpg' || contentType.toLowerCase() == 'jpeg'-->
									<div id="previewViewport" class="well thumbnail" data-toggle="tooltip" data-placement="bottom" title="click on an image to rotate it" style="width:100%;margin-bottom:0;overflow-y:auto;" data-bind="foreach:previewImages,style:{height:$parent.previewHeight() + 'px'}">
										<div style="text-align:center;" data-bind="style:{width:sideLength() +'px',height:sideLength()+ 'px',lineHeight:sideLength() + 'px'}">
											<img class="img-thumbnail" style="vertical-align:middle;" src="" data-bind="attr: {src: url},style:{'max-width':$parent.contentType.toLowerCase() == 'pdf' ? 'none' :'100%', 'webkitTransform':rotationCSS,'oTransform':rotationCSS,'msTransform':rotationCSS,'transform':rotationCSS,'MozTransform':rotationCSS},click:function(){rotate(90);}" />
										</div>
									</div>
									<!--/ko-->
									<!--ko if: contentType.toLowerCase() != 'pdf' && contentType.toLowerCase() != 'png' && contentType.toLowerCase() != 'jpg' && contentType.toLowerCase() != 'jpeg'-->
									<h5 style="text-align:center;"><span> Unfortunately, this file type cannot be previewed.</span></h5>
									<!--/ko-->
								</div>
								<!--ko if: fnc.app.attachmentsObject().selectedDocument() && fnc.app.attachmentsObject().selectedDocument().RecordId-->
								<div class="col-xs-2" style="padding-left:0;">
									<div class="well-sm">
										<form class="" data-bind="with: fnc.app.attachmentsObject().selectedDocument">
											<div class="form-group">
												<label for="inputDocName" class="control-label" style="width:90px;">Doc Name</label>
												<!--<input type="text" class="form-control" id="inputDocName" placeholder="Document name" data-bind="textInput: DocName">-->
												<textarea class="form-control" rows="5" id="inputDocName" style="padding:4px;font-size:12px;" data-bind="textInput: DocName, css: {'cm-disabled-tab': !fnc.app.prvCrossDocEditDocumentEnable()}"></textarea>
											</div>
											<div class="form-group">
												<label for="inputDocType" class="control-label" style="width:90px;">Doc Type</label>
												<select class="input-medium input-nopadding" id="inputDocType" style="width:100%" data-bind="options: fnc.app.attachmentsObject().documentTypes, optionsText: 'TypeName', optionsValue: 'InvoiceDocTypeId', value: InvoiceDocTypeId, css: {'cm-disabled-tab': !fnc.app.prvCrossDocEditDocumentEnable()}"></select>
											</div>
											<div class="form-group" style="margin-bottom:0;">
												<div class="col-xs-12" style="padding-right:0;">
													<button type="button" class="btn btn-default" style="float:right;" data-bind="click: updateDocument, css: {'cm-disabled-tab': !fnc.app.prvCrossDocEditDocumentEnable()}">Submit</button>
												</div>
											</div>

										</form>
									</div>
								</div>
								<!--/ko-->
							</div>							
						</div>
						<div class="modal-footer">
							<!--ko if: contentType.toLowerCase() == 'pdf'-->
							<div class="btn-group" style="float:left;">
								<a class="btn btn-primary" data-bind="click:function(){zoom('max');}"><span class="glyphicon glyphicon-fullscreen"></span></a>
								<a class="btn btn-primary" data-bind="click:function(){zoom(100);}"><span class="glyphicon glyphicon-zoom-in"></span></a>
								<a class="btn btn-primary" data-bind="click:function(){zoom(-100);}, attr: {'disabled':currentWidth() == window.minimumPreviewWidth}"><span class="glyphicon glyphicon-zoom-out"></span></a>
							</div>
							<!--/ko-->
							<!--ko if: fnc.app.attachmentsObject().selectedDocument() && fnc.app.attachmentsObject().selectedDocument().RecordId-->
							<!--<button class="btn btn-default" data-bind="click:saveChanges">Save Changes</button>-->
							<button class="btn btn-default" style="float:right;" data-bind="click: fnc.app.attachmentsObject().saveFile, css: {'cm-disabled-tab': !fnc.app.prvCrossDocDownloadDocumentEnable()}">Download</button>
							<!--/ko-->
						</div>
						<!-- /ko -->
					</div>
				</div>
			</div>
		</div>
		<!-- /PREVIEW -->
		<!-- EDIT DOCUMENT -->
		<div class="modal fade" id="modEditDocument" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
			<div class="modal-dialog" style="">
				<div class="modal-content" data-bind="">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
						<h5 class="modal-title" id="myModalLabel">EDIT DOCUMENT</h5>
					</div>
					<div class="modal-body">

						<!-- ko if: fnc.app.attachmentsObject() -->
						<!-- ko if: fnc.app.attachmentsObject().selectedDocument() && fnc.app.attachmentsObject().selectedDocument().RecordId -->
						<form class="form-horizontal" data-bind="with: fnc.app.attachmentsObject().selectedDocument">
							<div class="form-group">
								<label for="inputDocName" class="col-xs-2 control-label" style="width:90px;">Doc Name</label>
								<div class="col-xs-10">
									<input type="text" class="form-control" id="inputDocName" placeholder="Document name" data-bind="textInput: DocName">
								</div>
							</div>
							<div class="form-group">
								<label for="inputDocType" class="col-xs-2 control-label" style="width:90px;">Doc Type</label>
								<div class="col-xs-10">
									<select class="input-medium input-nopadding" id="inputDocType" style="width:100%" data-bind="options: fnc.app.attachmentsObject().documentTypes, optionsText: 'TypeName', optionsValue: 'InvoiceDocTypeId', value: InvoiceDocTypeId"></select>
								</div>
							</div>
							<div class="form-group" style="margin-bottom:0;">
								<div class="col-xs-12">
									<button type="button" class="btn btn-default" style="float:right;margin-right:10px;" data-bind="click: updateDocument">Submit</button>
								</div>
							</div>
						</form>
						<!--<pre data-bind="text: ko.toJSON(fnc.app.attachmentsObject().selectedDocument(), null, 2)"></pre>-->
						<!-- /ko -->
						<!-- /ko -->

					</div>
				</div>
			</div>
		</div>
		<!-- /EDIT DOCUMENT -->
		<!-- DETACH CONFIRMATION -->
		<div class="modal draggable fade" id="modDetachDocWarning" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false">
			<div class="modal-dialog" data-bind="if: fnc.app.attachmentsObject()">
				<div class="modal-content" data-bind="if: fnc.app.attachmentsObject().selectedDocument()">
					<div class="modal-header">
						<!--<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>-->
						<h4 class="modal-title" id="myModalLabel">CONFIRM DETACH DOCUMENT</h4>
					</div>
					<div class="modal-body">
						<p>Do you want to detach <span style="font-style:italic;text-decoration:underline;" data-bind="text: fnc.app.attachmentsObject().selectedDocument().DocName"></span> document from the invoice # <span data-bind="text: fnc.app.attachmentsObject().selectedDocument().InvoiceNum"></span>?</p>
					</div>
					<div class="modal-footer" style="padding:10px;">
						<button type="button" class="btn btn-default btn-sm" data-bind="click: fnc.app.attachmentsObject().selectedDocument().doDetachDocument">Yes</button>
						<button type="button" class="btn btn-primary btn-sm" data-bind="click: fnc.app.attachmentsObject().selectedDocument().cancelDetachDocument">No</button>
					</div>
					<!--<pre data-bind="text: ko.toJSON(fnc.app.attachmentsObject().selectedDocument(), null, 2)"></pre>-->
				</div>
			</div>
		</div>
		<!-- /DETACH CONFIRMATION -->
		<!--progress overlay-->
		<div id="modProgress" class="modal fade" data-bind="with: app.progressBar">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header" style="text-align:center;">
						<h5 class="modal-title" data-bind="html: progress() == '100%' ?  'Done!' : title"></h5>
					</div>
					<div class="modal-body">
						<div style="background-color:grey;">
							<div style="height: 30px; text-align: center; line-height: 30px; color: white; background-color: #0067AC;" data-bind="style: { width: progress }, text: progress"></div>
						</div>
					</div>
					<div class="modal-footer" style="text-align:center;">
						<!--ko if: progress() !== '100%'-->
						<h6 class="modal-title" data-bind="text: currentStage().description"></h6>
						<!--/ko-->
						<a id="pdfDownloadLink" class="btn btn-primary" data-bind="visible: displayDownloadLink() && progress() === '100%'">Download</a>
						<button type="button" class="btn btn-secondary" data-dismiss="modal" data-bind="visible: progress() == '100%' || allowCancel()">Cancel</button>
					</div>
				</div>
			</div>
		</div>
		<!--/progress overlay-->
	</div>

	<script src="lib/holderjs/holder.js"></script>
	<script>
		Holder.add_theme("white", { background: "#fff", foreground: "#a7a7a7", size: 10 });
	</script>
	
</body>



</html>
